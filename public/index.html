<!DOCTYPE html>
<html>
<head>
  <title>AI Audio Ad Generator</title>
  <style>
    body { background:#020617; color:white; font-family:Arial; padding:30px; }
    input, select, textarea {
      width:90%; padding:10px; margin:8px 0; border-radius:6px;
    }
    button {
      padding:12px 25px; margin-top:10px; border-radius:6px;
      background:#22c55e; border:none; cursor:pointer;
    }
    audio { margin-top:20px; width:90%; }
  </style>
</head>
<body>

<h2>ðŸŽ¯ 30-Second AI Audio Ad</h2>

<input id="businessName" placeholder="Business / Brand Name">
<input id="service" placeholder="Service or Product">
<input id="audience" placeholder="Target Audience">

<select id="language">
  <option>Marathi</option>
  <option>Hindi</option>
  <option>English</option>
</select>

<select id="tone">
  <option>Emotional</option>
  <option>Energetic</option>
  <option>Professional</option>
</select>

<button onclick="generateScript()">Generate Script</button>

<textarea id="script" rows="8" placeholder="Generated script..."></textarea>

<button onclick="generateVoice()">Generate Voice</button>

<audio id="audio" controls></audio>

<script>
async function generateScript() {
  const data = {
    businessName: businessName.value,
    service: service.value,
    targetAudience: audience.value,
    language: language.value,
    tone: tone.value
  };

  const res = await fetch('/generate-script', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  });

  const json = await res.json();
  script.value = json.script;
}

async function generateVoice() {
  const res = await fetch('/tts', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ text: script.value })
  });

  const blob = await res.blob();
  audio.src = URL.createObjectURL(blob);
}
</script>

</body>
</html>
